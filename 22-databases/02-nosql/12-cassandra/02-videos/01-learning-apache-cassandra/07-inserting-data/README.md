# Inserting Data

```
cqlsh:home_security> INSERT INTO activity (home_id, datetime, event, code_used) VALUES ('H01474777', '2014-05-21 07:32:16', 'alarm set', '5599');
cqlsh:home_security> SELECT * FROM activity;
cqlsh:home_security> SELECT home_id, datetime, event FROM activity;
```

## Import records by using COPY

```
cqlsh:home_security> COPY activity (home_id, datetime, event, code_used) FROM '/home/vm1/Desktop/Files/Chapter 7/events.csv' WITH header=true AND delimiter='|';
32 rows imported in 0.196 seconds.
```

## How Data is Stored in Cassandra internally

```
vm1@ubuntu:~/cassandra/apache-cassandra-2.0.7$ bin/cassandra-cli
Connected to: "Test Cluster" on 127.0.0.1/9160
Welcome to Cassandra CLI version 2.0.7

The CLI is deprecated and will be removed in Cassandra 3.0.  Consider migrating to cqlsh.
CQL is fully backwards compatible with Thrift data; see http://www.datastax.com/dev/blog/thrift-to-cql3

Type 'help;' or '?' for help.
Type 'quit;' or 'exit;' to quit.

[default@unknown] USE home_security;
Authenticated to keyspace: home_security
[default@home_security] LIST activity;
Using default limit of 100
Using default cell limit of 100
-------------------
RowKey: H01474777
=> (name=2014-05-23 18\:28\:41-0700:, value=, timestamp=1461472390583000)
=> (name=2014-05-23 18\:28\:41-0700:code_used, value=35353939, timestamp=1461472390583000)
=> (name=2014-05-23 18\:28\:41-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390583000)
=> (name=2014-05-23 07\:44\:23-0700:, value=, timestamp=1461472390553000)
=> (name=2014-05-23 07\:44\:23-0700:code_used, value=35353939, timestamp=1461472390553000)
=> (name=2014-05-23 07\:44\:23-0700:event, value=616c61726d20736574, timestamp=1461472390553000)
=> (name=2014-05-22 17\:22\:15-0700:, value=, timestamp=1461472390537000)
=> (name=2014-05-22 17\:22\:15-0700:code_used, value=35353939, timestamp=1461472390537000)
=> (name=2014-05-22 17\:22\:15-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390537000)
=> (name=2014-05-22 11\:44\:07-0700:, value=, timestamp=1461472390526000)
=> (name=2014-05-22 11\:44\:07-0700:event, value=616c61726d207265736574206279206f6666696365, timestamp=1461472390526000)
=> (name=2014-05-22 11\:25\:00-0700:, value=, timestamp=1461472390522000)
=> (name=2014-05-22 11\:25\:00-0700:event, value=706f6c6963652063616c6c6564, timestamp=1461472390522000)
=> (name=2014-05-22 11\:23\:59-0700:, value=, timestamp=1461472390517000)
=> (name=2014-05-22 11\:23\:59-0700:event, value=616c61726d206272656163686564, timestamp=1461472390517000)
=> (name=2014-05-22 07\:44\:13-0700:, value=, timestamp=1461472390485000)
=> (name=2014-05-22 07\:44\:13-0700:code_used, value=35353939, timestamp=1461472390485000)
=> (name=2014-05-22 07\:44\:13-0700:event, value=616c61726d20736574, timestamp=1461472390485000)
=> (name=2014-05-21 18\:30\:33-0700:, value=, timestamp=1461472390464000)
=> (name=2014-05-21 18\:30\:33-0700:code_used, value=35353939, timestamp=1461472390464000)
=> (name=2014-05-21 18\:30\:33-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390464000)
=> (name=2014-05-21 07\:32\:16-0700:, value=, timestamp=1461472390439000)
=> (name=2014-05-21 07\:32\:16-0700:code_used, value=35353939, timestamp=1461472390439000)
=> (name=2014-05-21 07\:32\:16-0700:event, value=616c61726d20736574, timestamp=1461472390439000)
-------------------
RowKey: H01033638
=> (name=2014-05-22 07\:45\:28-0700:, value=, timestamp=1461472390488000)
=> (name=2014-05-22 07\:45\:28-0700:code_used, value=32313231, timestamp=1461472390488000)
=> (name=2014-05-22 07\:45\:28-0700:event, value=616c61726d20736574, timestamp=1461472390488000)
=> (name=2014-05-21 19\:01\:46-0700:, value=, timestamp=1461472390475000)
=> (name=2014-05-21 19\:01\:46-0700:code_used, value=32313231, timestamp=1461472390475000)
=> (name=2014-05-21 19\:01\:46-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390475000)
=> (name=2014-05-21 16\:58\:39-0700:, value=, timestamp=1461472390461000)
=> (name=2014-05-21 16\:58\:39-0700:code_used, value=31393139, timestamp=1461472390461000)
=> (name=2014-05-21 16\:58\:39-0700:event, value=616c61726d20736574, timestamp=1461472390461000)
=> (name=2014-05-21 13\:02\:11-0700:, value=, timestamp=1461472390457000)
=> (name=2014-05-21 13\:02\:11-0700:code_used, value=31393139, timestamp=1461472390457000)
=> (name=2014-05-21 13\:02\:11-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390457000)
=> (name=2014-05-21 07\:55\:58-0700:, value=, timestamp=1461472390448000)
=> (name=2014-05-21 07\:55\:58-0700:code_used, value=32313231, timestamp=1461472390448000)
=> (name=2014-05-21 07\:55\:58-0700:event, value=616c61726d20736574, timestamp=1461472390448000)
=> (name=2014-05-21 07\:50\:43-0700:, value=, timestamp=1461472390444000)
=> (name=2014-05-21 07\:50\:43-0700:code_used, value=32313231, timestamp=1461472390444000)
=> (name=2014-05-21 07\:50\:43-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390444000)
=> (name=2014-05-21 07\:50\:22-0700:, value=, timestamp=1461472390441000)
=> (name=2014-05-21 07\:50\:22-0700:code_used, value=32313231, timestamp=1461472390441000)
=> (name=2014-05-21 07\:50\:22-0700:event, value=616c61726d20736574, timestamp=1461472390441000)
-------------------
RowKey: H02257222
=> (name=2014-05-23 18\:06\:58-0700:, value=, timestamp=1461472390569000)
=> (name=2014-05-23 18\:06\:58-0700:code_used, value=31353636, timestamp=1461472390569000)
=> (name=2014-05-23 18\:06\:58-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390569000)
=> (name=2014-05-23 07\:49\:36-0700:, value=, timestamp=1461472390559000)
=> (name=2014-05-23 07\:49\:36-0700:code_used, value=31353636, timestamp=1461472390559000)
=> (name=2014-05-23 07\:49\:36-0700:event, value=616c61726d20736574, timestamp=1461472390559000)
=> (name=2014-05-22 21\:59\:44-0700:, value=, timestamp=1461472390550000)
=> (name=2014-05-22 21\:59\:44-0700:code_used, value=31353636, timestamp=1461472390550000)
=> (name=2014-05-22 21\:59\:44-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390550000)
=> (name=2014-05-21 05\:29\:47-0700:, value=, timestamp=1461472390433000)
=> (name=2014-05-21 05\:29\:47-0700:code_used, value=31353636, timestamp=1461472390433000)
=> (name=2014-05-21 05\:29\:47-0700:event, value=616c61726d20736574, timestamp=1461472390433000)
-------------------
RowKey: H01545551
=> (name=2014-05-23 18\:14\:53-0700:, value=, timestamp=1461472390577000)
=> (name=2014-05-23 18\:14\:53-0700:code_used, value=38383839, timestamp=1461472390577000)
=> (name=2014-05-23 18\:14\:53-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390577000)
=> (name=2014-05-23 08\:28\:16-0700:, value=, timestamp=1461472390565000)
=> (name=2014-05-23 08\:28\:16-0700:code_used, value=38383839, timestamp=1461472390565000)
=> (name=2014-05-23 08\:28\:16-0700:event, value=616c61726d20736574, timestamp=1461472390565000)
=> (name=2014-05-22 18\:35\:29-0700:, value=, timestamp=1461472390529000)
=> (name=2014-05-22 18\:35\:29-0700:code_used, value=38383839, timestamp=1461472390529000)
=> (name=2014-05-22 18\:35\:29-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390529000)
=> (name=2014-05-22 08\:32\:22-0700:, value=, timestamp=1461472390492000)
=> (name=2014-05-22 08\:32\:22-0700:code_used, value=38383839, timestamp=1461472390492000)
=> (name=2014-05-22 08\:32\:22-0700:event, value=616c61726d20736574, timestamp=1461472390492000)
=> (name=2014-05-21 18\:41\:02-0700:, value=, timestamp=1461472390470000)
=> (name=2014-05-21 18\:41\:02-0700:code_used, value=38383839, timestamp=1461472390470000)
=> (name=2014-05-21 18\:41\:02-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390470000)
=> (name=2014-05-21 08\:30\:14-0700:, value=, timestamp=1461472390450000)
=> (name=2014-05-21 08\:30\:14-0700:code_used, value=38383839, timestamp=1461472390450000)
=> (name=2014-05-21 08\:30\:14-0700:event, value=616c61726d20736574, timestamp=1461472390450000)
-------------------
RowKey: H00999943
=> (name=2014-05-23 18\:56\:23-0700:, value=, timestamp=1461472390589000)
=> (name=2014-05-23 18\:56\:23-0700:code_used, value=31323435, timestamp=1461472390589000)
=> (name=2014-05-23 18\:56\:23-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390589000)
=> (name=2014-05-23 08\:52\:19-0700:, value=, timestamp=1461472390567000)
=> (name=2014-05-23 08\:52\:19-0700:code_used, value=31323435, timestamp=1461472390567000)
=> (name=2014-05-23 08\:52\:19-0700:event, value=616c61726d20736574, timestamp=1461472390567000)
=> (name=2014-05-22 19\:10\:56-0700:, value=, timestamp=1461472390547000)
=> (name=2014-05-22 19\:10\:56-0700:code_used, value=31323435, timestamp=1461472390547000)
=> (name=2014-05-22 19\:10\:56-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390547000)
=> (name=2014-05-22 08\:55\:10-0700:, value=, timestamp=1461472390495000)
=> (name=2014-05-22 08\:55\:10-0700:code_used, value=31323435, timestamp=1461472390495000)
=> (name=2014-05-22 08\:55\:10-0700:event, value=616c61726d20736574, timestamp=1461472390495000)
=> (name=2014-05-21 19\:03\:33-0700:, value=, timestamp=1461472390480000)
=> (name=2014-05-21 19\:03\:33-0700:code_used, value=31323435, timestamp=1461472390480000)
=> (name=2014-05-21 19\:03\:33-0700:event, value=616c61726d207475726e6564206f6666, timestamp=1461472390480000)
=> (name=2014-05-21 09\:05\:54-0700:, value=, timestamp=1461472390453000)
=> (name=2014-05-21 09\:05\:54-0700:code_used, value=31323435, timestamp=1461472390453000)
=> (name=2014-05-21 09\:05\:54-0700:event, value=616c61726d20736574, timestamp=1461472390453000)

5 Rows Returned.
Elapsed time: 277 msec(s).
```

## How Data is Stored On Disk

```
vm1@ubuntu:~/cassandra/apache-cassandra-2.0.7$ bin/nodetool flush home_security;
vm1@ubuntu:/var/lib/cassandra/data/home_security$ ls activity/ <- in another terminal
vm1@ubuntu:~/cassandra/apache-cassandra-2.0.7$ bin/sstable2json /var/lib/cassandra/data/home_security/activity/home_security-activity-jb-1-Data.db
[
{"key": "483031343734373737","columns": [["2014-05-23 18\\:28\\:41-0700:","",1461472390583000], ["2014-05-23 18\\:28\\:41-0700:code_used","5599",1461472390583000], ["2014-05-23 18\\:28\\:41-0700:event","alarm turned off",1461472390583000], ["2014-05-23 07\\:44\\:23-0700:","",1461472390553000], ["2014-05-23 07\\:44\\:23-0700:code_used","5599",1461472390553000], ["2014-05-23 07\\:44\\:23-0700:event","alarm set",1461472390553000], ["2014-05-22 17\\:22\\:15-0700:","",1461472390537000], ["2014-05-22 17\\:22\\:15-0700:code_used","5599",1461472390537000], ["2014-05-22 17\\:22\\:15-0700:event","alarm turned off",1461472390537000], ["2014-05-22 11\\:44\\:07-0700:","",1461472390526000], ["2014-05-22 11\\:44\\:07-0700:code_used","571c4c86",1461472390526000,"d"], ["2014-05-22 11\\:44\\:07-0700:event","alarm reset by office",1461472390526000], ["2014-05-22 11\\:25\\:00-0700:","",1461472390522000], ["2014-05-22 11\\:25\\:00-0700:code_used","571c4c86",1461472390522000,"d"], ["2014-05-22 11\\:25\\:00-0700:event","police called",1461472390522000], ["2014-05-22 11\\:23\\:59-0700:","",1461472390517000], ["2014-05-22 11\\:23\\:59-0700:code_used","571c4c86",1461472390517000,"d"], ["2014-05-22 11\\:23\\:59-0700:event","alarm breached",1461472390517000], ["2014-05-22 07\\:44\\:13-0700:","",1461472390485000], ["2014-05-22 07\\:44\\:13-0700:code_used","5599",1461472390485000], ["2014-05-22 07\\:44\\:13-0700:event","alarm set",1461472390485000], ["2014-05-21 18\\:30\\:33-0700:","",1461472390464000], ["2014-05-21 18\\:30\\:33-0700:code_used","5599",1461472390464000], ["2014-05-21 18\\:30\\:33-0700:event","alarm turned off",1461472390464000], ["2014-05-21 07\\:32\\:16-0700:","",1461472390439000], ["2014-05-21 07\\:32\\:16-0700:code_used","5599",1461472390439000], ["2014-05-21 07\\:32\\:16-0700:event","alarm set",1461472390439000]]},
{"key": "483031303333363338","columns": [["2014-05-22 07\\:45\\:28-0700:","",1461472390488000], ["2014-05-22 07\\:45\\:28-0700:code_used","2121",1461472390488000], ["2014-05-22 07\\:45\\:28-0700:event","alarm set",1461472390488000], ["2014-05-21 19\\:01\\:46-0700:","",1461472390475000], ["2014-05-21 19\\:01\\:46-0700:code_used","2121",1461472390475000], ["2014-05-21 19\\:01\\:46-0700:event","alarm turned off",1461472390475000], ["2014-05-21 16\\:58\\:39-0700:","",1461472390461000], ["2014-05-21 16\\:58\\:39-0700:code_used","1919",1461472390461000], ["2014-05-21 16\\:58\\:39-0700:event","alarm set",1461472390461000], ["2014-05-21 13\\:02\\:11-0700:","",1461472390457000], ["2014-05-21 13\\:02\\:11-0700:code_used","1919",1461472390457000], ["2014-05-21 13\\:02\\:11-0700:event","alarm turned off",1461472390457000], ["2014-05-21 07\\:55\\:58-0700:","",1461472390448000], ["2014-05-21 07\\:55\\:58-0700:code_used","2121",1461472390448000], ["2014-05-21 07\\:55\\:58-0700:event","alarm set",1461472390448000], ["2014-05-21 07\\:50\\:43-0700:","",1461472390444000], ["2014-05-21 07\\:50\\:43-0700:code_used","2121",1461472390444000], ["2014-05-21 07\\:50\\:43-0700:event","alarm turned off",1461472390444000], ["2014-05-21 07\\:50\\:22-0700:","",1461472390441000], ["2014-05-21 07\\:50\\:22-0700:code_used","2121",1461472390441000], ["2014-05-21 07\\:50\\:22-0700:event","alarm set",1461472390441000]]},
{"key": "483032323537323232","columns": [["2014-05-23 18\\:06\\:58-0700:","",1461472390569000], ["2014-05-23 18\\:06\\:58-0700:code_used","1566",1461472390569000], ["2014-05-23 18\\:06\\:58-0700:event","alarm turned off",1461472390569000], ["2014-05-23 07\\:49\\:36-0700:","",1461472390559000], ["2014-05-23 07\\:49\\:36-0700:code_used","1566",1461472390559000], ["2014-05-23 07\\:49\\:36-0700:event","alarm set",1461472390559000], ["2014-05-22 21\\:59\\:44-0700:","",1461472390550000], ["2014-05-22 21\\:59\\:44-0700:code_used","1566",1461472390550000], ["2014-05-22 21\\:59\\:44-0700:event","alarm turned off",1461472390550000], ["2014-05-21 05\\:29\\:47-0700:","",1461472390433000], ["2014-05-21 05\\:29\\:47-0700:code_used","1566",1461472390433000], ["2014-05-21 05\\:29\\:47-0700:event","alarm set",1461472390433000]]},
{"key": "483031353435353531","columns": [["2014-05-23 18\\:14\\:53-0700:","",1461472390577000], ["2014-05-23 18\\:14\\:53-0700:code_used","8889",1461472390577000], ["2014-05-23 18\\:14\\:53-0700:event","alarm turned off",1461472390577000], ["2014-05-23 08\\:28\\:16-0700:","",1461472390565000], ["2014-05-23 08\\:28\\:16-0700:code_used","8889",1461472390565000], ["2014-05-23 08\\:28\\:16-0700:event","alarm set",1461472390565000], ["2014-05-22 18\\:35\\:29-0700:","",1461472390529000], ["2014-05-22 18\\:35\\:29-0700:code_used","8889",1461472390529000], ["2014-05-22 18\\:35\\:29-0700:event","alarm turned off",1461472390529000], ["2014-05-22 08\\:32\\:22-0700:","",1461472390492000], ["2014-05-22 08\\:32\\:22-0700:code_used","8889",1461472390492000], ["2014-05-22 08\\:32\\:22-0700:event","alarm set",1461472390492000], ["2014-05-21 18\\:41\\:02-0700:","",1461472390470000], ["2014-05-21 18\\:41\\:02-0700:code_used","8889",1461472390470000], ["2014-05-21 18\\:41\\:02-0700:event","alarm turned off",1461472390470000], ["2014-05-21 08\\:30\\:14-0700:","",1461472390450000], ["2014-05-21 08\\:30\\:14-0700:code_used","8889",1461472390450000], ["2014-05-21 08\\:30\\:14-0700:event","alarm set",1461472390450000]]},
{"key": "483030393939393433","columns": [["2014-05-23 18\\:56\\:23-0700:","",1461472390589000], ["2014-05-23 18\\:56\\:23-0700:code_used","1245",1461472390589000], ["2014-05-23 18\\:56\\:23-0700:event","alarm turned off",1461472390589000], ["2014-05-23 08\\:52\\:19-0700:","",1461472390567000], ["2014-05-23 08\\:52\\:19-0700:code_used","1245",1461472390567000], ["2014-05-23 08\\:52\\:19-0700:event","alarm set",1461472390567000], ["2014-05-22 19\\:10\\:56-0700:","",1461472390547000], ["2014-05-22 19\\:10\\:56-0700:code_used","1245",1461472390547000], ["2014-05-22 19\\:10\\:56-0700:event","alarm turned off",1461472390547000], ["2014-05-22 08\\:55\\:10-0700:","",1461472390495000], ["2014-05-22 08\\:55\\:10-0700:code_used","1245",1461472390495000], ["2014-05-22 08\\:55\\:10-0700:event","alarm set",1461472390495000], ["2014-05-21 19\\:03\\:33-0700:","",1461472390480000], ["2014-05-21 19\\:03\\:33-0700:code_used","1245",1461472390480000], ["2014-05-21 19\\:03\\:33-0700:event","alarm turned off",1461472390480000], ["2014-05-21 09\\:05\\:54-0700:","",1461472390453000], ["2014-05-21 09\\:05\\:54-0700:code_used","1245",1461472390453000], ["2014-05-21 09\\:05\\:54-0700:event","alarm set",1461472390453000]]}
]
```

## Lab

```
vm1@ubuntu:~/cassandra/apache-cassandra-2.0.7$ DESC TABLES;
DESC: command not found
vm1@ubuntu:~/cassandra/apache-cassandra-2.0.7$ bin/cqlsh
Connected to Test Cluster at localhost:9160.
[cqlsh 4.1.1 | Cassandra 2.0.7 | CQL spec 3.1.1 | Thrift protocol 19.39.0]
Use HELP for help.
cqlsh> USE home_security ;
cqlsh:home_security> INSERT INTO home (home_id, address, city, state, zip, contact_name, phone, phone_password, email, main_code, guest_code) VALUES ('H01474777', '518 Crestview Drive', 'Beverly Hills', 'CA', '90046', 'Jed Clampett', '310-775-4011', 'oil', 'jclampett@bhb.com', '5599', '7778');
cqlsh:home_security> SELECT * FROM home;
cqlsh:home_security> SELECT home_id, address, contact_name, phone_password, phone FROM home;
```

### Import records by using COPY

```
cqlsh:home_security> COPY home (home_id, address, city, state, zip, contact_name, phone, alt_phone, phone_password, email, main_code, guest_code) FROM '/home/vm1/Desktop/Files/Chapter 7/homes.csv' WITH header = true AND delimiter = '|';
5 rows imported in 0.040 seconds.
cqlsh:home_security> SELECT * FROM home;
vm1@ubuntu:~/cassandra/apache-cassandra-2.0.7$ bin/nodetool flush home_security home;
vm1@ubuntu:/var/lib/cassandra/data/home_security$ ls home/
```